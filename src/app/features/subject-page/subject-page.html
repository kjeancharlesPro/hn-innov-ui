<div
  class="relative flex min-h-screen w-full flex-col items-center bg-gradient-to-b from-[#1c122b] to-background-dark dark group/design-root overflow-x-hidden p-4 sm:p-6"
>
  <!-- Alertes en bas à droite (fixed) -->
  <div class="fixed bottom-6 right-6 z-50 max-w-sm space-y-3">
    <!-- Alerte succès -->
    <div
      *ngIf="success"
      class="w-full p-4 rounded-lg bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30 flex items-start gap-4 shadow-lg shadow-green-500/20 animate-alert-fade-out"
    >
      <span class="material-symbols-outlined text-2xl text-green-400 mt-0.5 flex-shrink-0"
        >verified</span
      >
      <div class="flex-1">
        <h3 class="font-semibold text-green-300">Félicitations !</h3>
        <p class="text-sm text-green-300/80 mt-1">
          Votre idée a été soumise avec succès. Merci pour votre contribution !
        </p>
      </div>
      <button
        (click)="closeAlert('success')"
        type="button"
        class="text-zinc-400 hover:text-white flex-shrink-0"
      >
        <span class="material-symbols-outlined text-base">close</span>
      </button>
    </div>

    <!-- Alerte erreur -->
    <div
      *ngIf="error"
      class="w-full p-4 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-3 shadow-lg shadow-red-500/20 animate-alert-fade-out"
    >
      <span class="material-symbols-outlined text-red-400 mt-0.5 flex-shrink-0">error</span>
      <div class="flex-1">
        <h3 class="font-semibold text-red-300">
          {{ submitted ? 'Erreur de validation' : 'Erreur' }}
        </h3>
        <p class="text-sm text-red-400/80 mt-1">
          {{ error }}
        </p>
      </div>
      <button
        (click)="closeAlert('error')"
        type="button"
        class="text-zinc-400 hover:text-white flex-shrink-0"
      >
        <span class="material-symbols-outlined text-base">close</span>
      </button>
    </div>
  </div>

  <main class="w-full max-w-md mx-auto flex flex-col items-center">
    <h2 class="text-white tracking-tight text-3xl font-bold leading-tight text-center pb-2 pt-4">
      Boîte à idées
    </h2>
    <p class="text-zinc-400 text-base font-normal leading-normal pb-8 text-center">
      Partagez vos idées innovantes pour les prochains hackathons.
    </p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="w-full space-y-5">
      <label class="flex flex-col">
        <p class="text-zinc-300 text-sm font-medium leading-normal pb-2">Titre du projet</p>
        <textarea
          formControlName="title"
          class="form-textarea flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white placeholder:text-zinc-500 focus:outline-0 border border-zinc-700 bg-zinc-900/50 p-4 text-base font-normal leading-normal ring-2 ring-transparent focus:border-accent focus:ring-accent/30 transition-colors"
          placeholder="Un titre accrocheur et descriptif qui résume l'idée principale"
          rows="2"
        ></textarea>
      </label>

      <label class="flex flex-col">
        <p class="text-zinc-300 text-sm font-medium leading-normal pb-2">Description du projet</p>
        <textarea
          formControlName="description"
          class="form-textarea flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white placeholder:text-zinc-500 focus:outline-0 border border-zinc-700 bg-zinc-900/50 p-4 text-base font-normal leading-normal ring-2 ring-transparent focus:border-accent focus:ring-accent/30 transition-colors"
          placeholder="Une brève description (100-200 mots) expliquant l'idée, son objectif et son utilité. Cette section doit donner une vue d'ensemble du projet"
          rows="3"
        ></textarea>
      </label>

      <label class="flex flex-col">
        <p class="text-zinc-300 text-sm font-medium leading-normal pb-2">Problème à résoudre</p>
        <textarea
          formControlName="problem"
          class="form-textarea flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white placeholder:text-zinc-500 focus:outline-0 border border-zinc-700 bg-zinc-900/50 p-4 text-base font-normal leading-normal ring-2 ring-transparent focus:border-accent focus:ring-accent/30 transition-colors"
          placeholder="Décrire le problème ou le besoin que le projet vise à résoudre. Pourquoi ce projet est-il important ou pertinent ?"
          rows="3"
        ></textarea>
      </label>

      <label class="flex flex-col">
        <p class="text-zinc-300 text-sm font-medium leading-normal pb-2">
          Innovation et originalité
        </p>
        <textarea
          formControlName="innovation"
          class="form-textarea flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white placeholder:text-zinc-500 focus:outline-0 border border-zinc-700 bg-zinc-900/50 p-4 text-base font-normal leading-normal ring-2 ring-transparent focus:border-accent focus:ring-accent/30 transition-colors"
          placeholder="Qu'est-ce qui rend ce projet unique ou innovant par rapport à ce qui existe déjà ?"
          rows="2"
        ></textarea>
      </label>

      <div class="pt-4">
        <button
          type="submit"
          [disabled]="loading"
          class="w-full bg-secondary h-14 px-6 rounded-lg bg-gradient-to-r from-primary to-accent text-white text-base font-bold shadow-lg shadow-accent/20 transition-transform duration-200 ease-in-out hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
        >
          <span *ngIf="!loading">Soumettre</span>
          <span *ngIf="loading">Envoi en cours...</span>
          <span class="material-symbols-outlined">{{
            loading ? 'hourglass_top' : 'arrow_forward'
          }}</span>
        </button>
      </div>
    </form>
  </main>
</div>
